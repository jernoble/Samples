---
title: Video in Element Fullscreen
tags: Video Fullscreen
---
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Canvas & HLS</title>
<style>
    .video-container {
        position: relative;
        display: inline-block;
    }

    .video-container:fullscreen video {
        width: 100%;
        height: 100%;
    }

    .video-controls {
        background-color: black;
        color: white;

        display: flex;
        flex-direction: row;
        flex-wrap: nowrap;
        justify-content: space-evenly;
        align-items: center;
        align-content: stretch;
        column-gap: 0.5em;
        padding: 0.5em;
        box-sizing: border-box;

        width: 100%;
        position: absolute;
        bottom: 0px;
        left: 0px;
    }

    .video-container:fullscreen .video-controls {
        bottom: 3em;
        left: 10em;
        right: 10em;
        width: auto;
        border-radius: 0.5lh;
    }

    .video-container .video-controls .button:hover {
        background-color: cyan;
        cursor: pointer;
    }
    .video-container .video-controls .button:active {
        transform: scale(1.1);
    }
    .video-container .video-controls .timeline {
        flex-grow: 1;
        -webkit-appearance: none;
    }
    .video-container .video-controls .timeline::-webkit-slider-runnable-track {
        width: 100%;
        height: 0.5em;
        cursor: pointer;
        background: darkgrey;
    }

    .video-container .video-controls .timeline::-webkit-slider-thumb {
        -webkit-appearance: none;
        height: 1em;
        margin-top: -0.25em;
        width: 0.25em;
        background: white;
        cursor: pointer;
    }


    .video-container .video-controls .button {
        width: 1em;
        height: 1em;
        background-color: white;
        mask-clip: content-box;
        mask-repeat: no-repeat;
        mask-size: 100% 100%;
    }

    .video-container:has(video:playing) .video-controls .play-pause { mask-image: url(Pause.svg) }
    .video-container:has(video:paused) .video-controls .play-pause { mask-image: url(Play.svg) }

    .video-container .video-controls .mute { mask-image: url(Volume3.svg); }
    .video-container:has(video:muted) .video-controls .mute { mask-image: url(VolumeMuted.svg); }

    .video-container .video-controls .pip { mask-image: url(PipIn.svg); }

    .video-container .video-controls .fullscreen { mask-image: url(EnterFullscreen.svg); }
    .video-container:fullscreen .video-controls .fullscreen { mask-image: url(ExitFullscreen.svg); }

</style>
<script>
window.addEventListener('load', async event => { 
    let video = document.querySelector('video');
    video.playsInline = true;

    let src1 = video.appendChild(document.createElement('source'));
    src1.src = '../../common_assets/media/BipBop.mp4';

    let src2 = video.appendChild(document.createElement('source'));
    src2.src = '../../common_assets/media/BipBop.webm';

    video.load();
    let container = document.querySelector('.video-container');
    let timeline = document.querySelector('.timeline');
    let currentTime = document.querySelector('.current-time');
    let remainingTime = document.querySelector('.remaining-time');

    function formatTime(value) {
        let sign = Math.sign(value)
        let seconds = Math.trunc(Math.abs(value)) % 60;
        let minutes = Math.trunc(Math.abs(value) / 60);
        return `${ sign === -1 ? '-' : ''}${ minutes.toString().padStart(2, '0') }:${ seconds.toString().padStart(2, '0') }`;
    };

    video.addEventListener('durationchange', event => {
        remainingTime.innerText = formatTime(video.currentTime - video.duration);
        timeline.max = video.duration;
        timeline.value = video.currentTime;
    });

    video.addEventListener('timeupdate', event => {
        currentTime.innerText = formatTime(video.currentTime);
        remainingTime.innerText = formatTime(video.currentTime - video.duration);
        timeline.value = video.currentTime;
    });

    document.querySelector('.play-pause').addEventListener('click', event => {
        video.paused ? video.play() : video.pause();
    });

    document.querySelector('.mute').addEventListener('click', event => {
        video.muted = !video.muted;
    });

    timeline.addEventListener('change', event => {
        video.currentTime = timeline.value;
    });

    document.querySelector('.pip').addEventListener('click', event => {
        if (video.requestPictureInPicture && document.pictureInPictureElement !== video)
            video.requestPictureInPicture();
        else if (document.exitPictureInPicture && document.pictureInPictureElement === video)
            document.exitPictureInPicture();
    });

    document.querySelector('.fullscreen').addEventListener('click', event => {
        if (container.requestFullscreen && document.fullscreenElement !== container)
            container.requestFullscreen();
        else if (document.exitFullscreen && document.fullscreenElement === container)
            document.exitFullscreen();
        else if (video.webkitDisplayingFullscreen)
            video.webkitExitFullscreen();
        else
            video.webkitEnterFullscreen();
    });

    document.addEventListener('keypress', event => {
        if (document.fullscreenElement === container && event.code === "Space")
            video.paused ? video.play() : video.pause();
    });
});
</script>
</head>
<body>
<div>
    <div class=video-container>
        <video></video>
        <div class=video-controls>
            <div class="play-pause button"></div>
            <div class="mute button"></div>
            <div class="current-time">00:00</div>
            <input type=range class="timeline" step=0.1 min=0 max=1 value=0>
            <div class="remaining-time">00:00</div>
            <div class="pip button"></div>
            <div class="fullscreen button"></div>
        </div>
    </div>
</div>
